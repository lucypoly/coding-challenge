(this.webpackJsonpchallenge=this.webpackJsonpchallenge||[]).push([[0],{49:function(n,t,e){n.exports=e(76)},76:function(n,t,e){"use strict";e.r(t);var o,r,a=e(1),i=e.n(a),c=e(12),s=e.n(c),l=(e(54),e(6)),u=e(18),d=Object(l.b)((function(n){return{trains:n.trains}}))((function(n){var t=n.lines,e=n.trains;return i.a.createElement(u.c,{height:500,width:500},t.map((function(n){return i.a.createElement(u.a,{key:"line-".concat(n.color),color:n.color,data:n.stations})})),e.map((function(n){return i.a.createElement(u.b,{key:"train-".concat(n.color),color:"black",data:[n.coordinates],strokeWidth:5})})))}));!function(n){n.red="red",n.green="green",n.blue="blue"}(o||(o={})),function(n){n.straight="straight",n.forward="forward"}(r||(r={}));var f,v=[{stations:[{x:1,y:4},{x:2,y:4},{x:3,y:4},{x:4,y:5},{x:5,y:5},{x:6,y:5},{x:7,y:5}],color:o.green},{stations:[{x:3,y:6},{x:3,y:5},{x:3,y:4},{x:4,y:3},{x:5,y:3},{x:6,y:3}],color:o.blue},{stations:[{x:5,y:7},{x:5,y:6},{x:5,y:5},{x:4,y:3},{x:3,y:2},{x:3,y:1}],color:o.red}],g=e(5),y=e(40),p=e(41),x=e(30);!function(n){n.START_MOVING="START_MOVING",n.STOP_MOVING="STOP_MOVING"}(f||(f={}));var h=function(n){return v.find((function(t){return t.color===n}))},m=function(n,t,e,o){var a=n.stations.length,i=n.stations.findIndex((function(n){return n.x===e&&n.y===o})),c=i+1,s=i-1,l=t;return c===a&&t===r.forward&&(c=s,l=r.straight),-1===s&&t===r.straight&&(c=1,l=r.forward),s>-1&&t===r.straight&&(c=s),{coordinates:n.stations[c],direction:l}},b=function(n,t){var e=n.direction,o=n.coordinates,r=o.x,a=o.y,i=m(t,e,r,a),c=m(t,e,i.coordinates.x,i.coordinates.y);n.coordinates=i.coordinates,n.nextCoordinates=c.coordinates,n.direction=i.direction},O=function(n,t){return n.find((function(n){return n.color!==t.color&&n.nextCoordinates.x===t.nextCoordinates.x&&n.nextCoordinates.y===t.nextCoordinates.y}))},w=[{color:o.green,moving:!1,coordinates:{x:1,y:4},nextCoordinates:{x:2,y:4},passengers:100,direction:r.forward},{color:o.blue,moving:!1,coordinates:{x:3,y:6},nextCoordinates:{x:3,y:5},passengers:200,direction:r.forward},{color:o.red,moving:!1,coordinates:{x:5,y:7},nextCoordinates:{x:5,y:6},passengers:300,direction:r.forward}],j=Object(g.combineReducers)({trains:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0,e=n.find((function(n){return n.color===t.payload}));switch(t.type){case f.START_MOVING:var o=h(t.payload),r=O(n,e),a=r&&r.moving&&r.passengers>e.passengers;return a?(console.log("collision!"),e.moving=!1):(e.moving=!0,b(e,o)),Object(x.a)(n);case f.STOP_MOVING:return e.moving=!1,Object(x.a)(n);default:return n}}});var T=e(13),M=e(14),k=e(16),E=e(15),I=e(17),C=e(42);function S(){var n=Object(C.a)(["\n  background-color: ",";\n  color: white;\n  \n  margin: 5px;\n  padding: 15px;\n  border: 0;\n  outline: none;\n  \n  font-size: 24px;\n"]);return S=function(){return n},n}var N=e(43).a.button(S(),(function(n){return n.color})),G=function(n){function t(){var n,e;Object(T.a)(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(e=Object(k.a)(this,(n=Object(E.a)(t)).call.apply(n,[this].concat(r)))).interval=void 0,e.handleMoving=function(){var n=e.props,t=n.moving,o=n.startMoving,r=n.color,a=n.stopMoving;t?(a(r),window.clearInterval(e.interval)):(o(r),e.interval=window.setInterval((function(){return o(r)}),2e3))},e}return Object(I.a)(t,n),Object(M.a)(t,[{key:"render",value:function(){var n=this.props,t=n.color,e=n.moving;return i.a.createElement(N,{color:t,onClick:this.handleMoving},e?"STOP":"START")}}]),t}(i.a.PureComponent),V=Object(l.b)(null,(function(n){return{startMoving:function(t){return n(function(n){return function(t){t({type:f.START_MOVING,payload:n})}}(t))},stopMoving:function(t){return n(function(n){return function(t){t({type:f.STOP_MOVING,payload:n})}}(t))}}}))(G),_=function(n){function t(){return Object(T.a)(this,t),Object(k.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(I.a)(t,n),Object(M.a)(t,[{key:"render",value:function(){var n=this.props.trains;return i.a.createElement(i.a.Fragment,null,n.length&&n.map((function(n){return i.a.createElement(V,{key:"button-".concat(n.color),color:n.color,moving:n.moving})})))}}]),t}(i.a.PureComponent),A=Object(l.b)((function(n){return{trains:n.trains}}))(_),P=function(){return i.a.createElement(l.a,{store:Object(g.createStore)(j,Object(p.composeWithDevTools)(Object(g.applyMiddleware)(y.a)))},i.a.createElement("div",{className:"App"},i.a.createElement(A,null),i.a.createElement(d,{lines:v})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()}))}},[[49,1,2]]]);
//# sourceMappingURL=main.fb9e8306.chunk.js.map